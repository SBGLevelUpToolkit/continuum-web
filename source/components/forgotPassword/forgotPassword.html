<div layout="column" flex layout-align="start center">
    <img src="images/logo.png" style="max-width:300px; max-height:300px;"/>

    <div class="layout-content" layout="row" layout-fill="" layout-align="center center">
        <md-content class="form-panel md-default-theme" flex="40" style="position: relative;">
            <img ng-show="ctrl.loading" src="images/loading.gif" style="position: absolute; left: 95px; top: 65px"/>

            <div layout="row" layout-align="center center">
                <div class="line" flex></div>
                <div class="text">FORGOT PASSWORD</div>
                <div class="line" flex></div>
            </div>
            <div class="vertical-spacer" ng-show="ctrl.showConfirmationMessage">
                <p>A password reset link has been sent to your email address. Please check your email to continue.</p>

                <p>You can close this page.</p>
            </div>
            <div ng-hide="ctrl.showConfirmationMessage">
                <form id="form" name="ctrl.form" novalidate>
                    <md-input-container class="light-text">
                        <label>Email</label>
                        <input type="email" id="userName" name="userName" ng-model="ctrl.user.userName" required>

                        <div ng-messages="ctrl.form.userName.$error">
                            <div ng-show="ctrl.form.$submitted || ctrl.form.userName.$touched">
                                <div ng-message="required">This is required.</div>
                                <div ng-message="email">Invalid email.</div>
                            </div>
                        </div>
                    </md-input-container>

                    <cn-error></cn-error>

                    <div layout="row" layout-align="center center">
                        <md-button class="md-raised" ng-click="(ctrl.form.$valid) ? ctrl.resetPassword(ctrl.user) : ctrl.setTouched()">RESET
                            PASSWORD
                        </md-button>
                    </div>
                </form>

                <div class="top-spacer"></div>
                <section layout layout-align="center">
                    <div class="link" ui-sref="login">Sign In</div>
                </section>
                <div class="vertical-spacer" layout>
                    <div class="line" flex></div>
                </div>
            </div>
        </md-content>
    </div>
</div>

